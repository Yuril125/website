<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Yuril's Reading List</title>
        <style id="main-styles">
            body {
                background-color: #ffffff;
                color: #000000;
                transition: background-color 0.3s, color 0.3s;
            }

            #root {
                margin: 0 auto;
                max-width: 600px;
                padding: 20px;
            }

            a {
                color: #0066cc;
            }

            a:visited {
                color: #551a8b;
            }

            @media (prefers-color-scheme: dark) {
                body {
                    background-color: #1a1a1a;
                    color: #e4e4e4;
                }

                a {
                    color: #6eb3ff;
                }

                a:visited {
                    color: #c98fff;
                }
            }

            #css-editor-container {
                position: fixed;
                top: 10px;
                right: 10px;
                z-index: 1000;
            }

            #toggle-editor {
                padding: 10px 15px;
                background: #333;
                color: #fff;
                border: none;
                border-radius: 4px;
                cursor: pointer;
                font-family: monospace;
            }

            #toggle-editor:hover {
                background: #555;
            }

            #css-editor-panel {
                display: none;
                position: fixed;
                top: 60px;
                right: 10px;
                width: 400px;
                max-height: 500px;
                background: #1e1e1e;
                border: 1px solid #333;
                border-radius: 4px;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            }

            #css-editor-panel.visible {
                display: flex;
                flex-direction: column;
            }

            #css-editor-header {
                padding: 10px;
                background: #2d2d2d;
                border-bottom: 1px solid #333;
                color: #fff;
                font-family: monospace;
                font-weight: bold;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            #editor-buttons {
                display: flex;
                gap: 5px;
            }

            #save-css,
            #reset-css {
                padding: 5px 10px;
                color: #fff;
                border: none;
                border-radius: 3px;
                cursor: pointer;
                font-family: monospace;
                font-size: 12px;
            }

            #save-css {
                background: #2563eb;
            }

            #save-css:hover {
                background: #1d4ed8;
            }

            #save-css.saved {
                background: #16a34a;
            }

            #reset-css {
                background: #dc2626;
            }

            #reset-css:hover {
                background: #b91c1c;
            }

            #css-editor {
                width: 100%;
                height: 400px;
                padding: 10px;
                background: #1e1e1e;
                color: #d4d4d4;
                border: none;
                font-family: monospace;
                font-size: 14px;
                resize: vertical;
            }

            #css-editor:focus {
                outline: none;
            }
        </style>
        <link rel="icon" type="image/x-icon" href="/img/favicon.png" />
    </head>

    <body>
        <div id="css-editor-container">
            <button id="toggle-editor">Edit CSS</button>
            <div id="css-editor-panel">
                <div id="css-editor-header">
                    <span>CSS Editor (Live Preview)</span>
                    <div id="editor-buttons">
                        <button id="save-css">Save CSS</button>
                        <button id="reset-css">Reset</button>
                    </div>
                </div>
                <textarea id="css-editor"></textarea>
            </div>
        </div>
        <div id="root">
            <nav><a href=".">&LongLeftArrow; Back to blog homepage</a></nav>
<main>
    <h1>Reading List</h1>

    A collection of works that either I have read and recommend reading, or am
    interested in and intend to read in the near future.

    <h2>Life</h2>
    <ul>
        <li><b>Sapiens</b> by Yuval Noah Harari</li>
        <li><b>Neuroqueer Heresies</b> by Nick Walker</li>
        <li><b>What I Mean When I Say I'm Autistic</b> by Annie Kotowicz</li>
        <li><b>Unmasking Autism</b> by Devon Prince</li>
    </ul>

    <h2>STEM &amp; Sci-Fi</h2>
    <ul>
        <li><b>I, Robot</b> by Isaac Asimov</li>
        <li>
            <b>Algorithms to Live By</b> by Brian Christian and Tom Griffiths
        </li>
        <li>
            <b
                >In Search of Schr&ouml;dinger's Cat: Quantum Physics and
                Reality</b
            >
            by John Gribbin
        </li>
        <li><b>Flowers for Algernon</b> by Daniel Keyes</li>
        <li><b>The Lunar Chronicles</b> by Marissa Meyer</li>
    </ul>

    <h2>Politics</h2>
    <ul>
        <li><b>China in Ten Words</b> by Yu Hua</li>
        <li><b>The Conquest of Bread</b> by Peter Kropotkin</li>
        <li><b>The Communist Manifesto</b> by Karl Marx</li>
        <li><b>Homage to Catalonia</b> by George Orwell</li>
        <li><b>Socialism Seriously</b> by Danny Katch</li>
        <li>
            <a
                href="https://theanarchistlibrary.org/library/petr-kropotkin-anarchist-morality"
                ><b>Anarchist Morality</b> by PÃ«tr Kropotkin</a
            >
        </li>
    </ul>

    <h2>Furry</h2>
    <ul>
        <li>
            <b>SHI: The End Where It Begins (Volume One: Flounder)</b> by
            <a href="https://t-larc.com/">Mae L. Strom</a>
        </li>
        <li><b>Goddess</b> by Arilin Thorferra</li>
        <li><b>Saida & Autumn</b> by Arilin Thorferra</li>
    </ul>

    <h2>Webcomics</h2>
    <ul>
        <li>
            <b><a href="https://post-fable.com/">Post-Fable</a></b>
        </li>
        <li>
            <b><a href="https://xkcd.com/">xkcd</a></b>
        </li>
    </ul>
</main>

        </div>

        <script>
            const toggleButton = document.getElementById('toggle-editor');
            const saveButton = document.getElementById('save-css');
            const resetButton = document.getElementById('reset-css');
            const editorPanel = document.getElementById('css-editor-panel');
            const cssEditor = document.getElementById('css-editor');
            const mainStyles = document.getElementById('main-styles');

            // Get current CSS content and normalize indentation
            const originalCSS = mainStyles.textContent;
            const lines = originalCSS.split('\n');
            const minIndent = lines
                .filter(line => line.trim().length > 0)
                .map(line => line.match(/^(\s*)/)[0].length)
                .reduce((min, indent) => Math.min(min, indent), Infinity);
            const normalizedOriginalCSS = lines
                .map(line => line.substring(minIndent))
                .join('\n')
                .trim();

            // Load saved CSS from localStorage or use original
            const savedCSS = localStorage.getItem('customCSS');
            if (savedCSS) {
                mainStyles.textContent = savedCSS;
                cssEditor.value = savedCSS;
            } else {
                cssEditor.value = normalizedOriginalCSS;
            }

            // Toggle editor panel
            toggleButton.addEventListener('click', () => {
                editorPanel.classList.toggle('visible');
                if (editorPanel.classList.contains('visible')) {
                    toggleButton.textContent = 'Hide CSS Editor';
                } else {
                    toggleButton.textContent = 'Edit CSS';
                }
            });

            // Live CSS update
            cssEditor.addEventListener('input', () => {
                mainStyles.textContent = cssEditor.value;
                // Reset save button state
                saveButton.textContent = 'Save CSS';
                saveButton.classList.remove('saved');
            });

            // Save CSS to localStorage
            saveButton.addEventListener('click', () => {
                localStorage.setItem('customCSS', cssEditor.value);
                saveButton.textContent = 'Saved!';
                saveButton.classList.add('saved');
                setTimeout(() => {
                    saveButton.textContent = 'Save CSS';
                    saveButton.classList.remove('saved');
                }, 2000);
            });

            // Reset CSS to original
            resetButton.addEventListener('click', () => {
                if (confirm('Reset CSS to original? This will remove your saved custom CSS.')) {
                    localStorage.removeItem('customCSS');
                    cssEditor.value = normalizedOriginalCSS;
                    mainStyles.textContent = originalCSS;
                    saveButton.textContent = 'Save CSS';
                    saveButton.classList.remove('saved');
                }
            });

            // Prevent textarea from losing focus on tab
            cssEditor.addEventListener('keydown', (e) => {
                if (e.key === 'Tab') {
                    e.preventDefault();
                    const start = cssEditor.selectionStart;
                    const end = cssEditor.selectionEnd;
                    cssEditor.value = cssEditor.value.substring(0, start) + '    ' + cssEditor.value.substring(end);
                    cssEditor.selectionStart = cssEditor.selectionEnd = start + 4;
                }
            });
        </script>
    </body>
</html>
